<!DOCTYPE html PUBLIC "Uncompressed source: https://github.com/rmurphey"><html id="rmurphey-com"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Unobtrusive, cross-browser method to add icons to links</title><meta name="description" content="Unobtrusive, cross-browser method to add icons to links"/><meta name="HandheldFriendly" content="True"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="twitter:description" content="There are lots of examples of using CSS to add filetype icons to links, but they all rely on advanced CSS selectors, which Internet Explorer 6 doesn&#39;t support.
If you&#39;re looking for a cross-browser method of adding filetype icons to links, you have a couple of choices: you can add a class name to all of your links and target that class name with CSS that IE6 can understand; or you can let Javascript add the links dynamically based on the extension it finds at the end of each URL. The class name method is fine if you don&#39;t mind adding the class to all of your links in your HTML, but the Javascript method will figure out which links get which icon automatically.
The Javascript/jQuery method
This uses my favorite Javascript library, jQuery; you&#39;ll need to include the library in your document, and then either put the icon-adding code in another file you include, or put it inline with your HTML. It&#39;s good practice to put all your jQuery code inside $.ready(), to be executed when the document is ready to be manipulated, but I&#39;ve left that part out here for brevity."><meta name="twitter:creator" content="@rem"/><meta name="twitter:title" content="Unobtrusive, cross-browser method to add icons to links"/><meta name="twitter:site" content="@rem"/><meta name="twitter:domain" content="Remy's b:log"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/favicon.ico"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,300,800|Source+Code+Pro:400,700,300" rel="stylesheet" type="text/css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/default.min.css"/><style>@media (max-width: 800px) {
  body {
    margin: 5%;
  }
}

@media (min-width: 800px) {
  body {
    margin: 5% 20%;
    font-size: 120%;
  }
}

body {
  font-family: "Open Sans";
  font-weight: 300;
}

p, li {
  line-height: 1.8em;
}

em {
  font-style: italic;
}

strong {
  font-weight: 700;
}

a:hover {
  color: #fb6b70;
}

a:visited {
  color: #9a3337;
}

a {
  color: #d9272e;
  text-decoration: none;
}

pre, code {
  font-family: "Source Code Pro", monospace;
  font-weight: 400;
}

pre strong, code strong {
  font-weight: 700;
}

h1.banner {
  font-size: 220%;
}

h1.banner span {
  font-weight: 300;
}

.search input[type=submit] {
  margin-left: 1em;
}
</style><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-143877-10', 'auto');
ga('send', 'pageview');</script></head><body id="blog-unobtrusive-cross-browser-method-to-add-icons-to-links-page"><h1 class="banner title">rmurphey&nbsp;<span>adventures in javascript</span></h1><nav class="main-nav clearfix subpanel"><form action="https://google.com/search" class="search"><input type="hidden" name="q" value="site:rmurphey.com"/><input type="text" name="q" placeholder="Search for..."/><input type="submit" value="Search"/></form><ul class="post-nav"><li class="home"><a href="/">Home</a></li><li class="next"><a href="/blog/2008/01/08/cycle-through-list-elements-with-jquery" title="Cycle through list elements with jQuery">Next</a></li><li class="prev"><a href="/blog/2008/01/04/salivating-over-server-side-javascript" title="Salivating over server-side Javascript">Previous</a></li></ul></nav><main role="main" class="content"><article class="post"><h1 class="title"><a href="/2008/01/06/unobtrusive-cross-browser-method-to-add-icons-to-links" rel="bookmark" title="Permanent Link: Unobtrusive, cross-browser method to add icons to links">Unobtrusive, cross-browser method to add icons to links</a></h1><div class="post-content"><p>There are <a href="http://www.askthecssguy.com/2006/12/showing_hyperlink_cues_with_cs_1.html">lots</a> of <a href="http://www.creativewebspecialist.co.uk/CSS_attributes/">examples</a> of using CSS to add filetype icons to links, but they all rely on advanced CSS selectors, which Internet Explorer 6 doesn&#39;t support.</p>
<p>If you&#39;re looking for a cross-browser method of adding filetype icons to links, you have a couple of choices: you can add a class name to all of your links and target that class name with CSS that IE6 can understand; or you can let Javascript add the links dynamically based on the extension it finds at the end of each URL. The class name method is fine if you don&#39;t mind adding the class to all of your links in your HTML, but the Javascript method will figure out which links get which icon automatically.</p>
<p><h3>The Javascript/jQuery method</h3>
This uses my favorite Javascript library, <a href="http://jquery.com">jQuery</a>; you&#39;ll need to include the library in your document, and then either put the icon-adding code in another file you include, or put it inline with your HTML. It&#39;s good practice to put all your jQuery code inside <code>$.ready()</code>, <a href="http://docs.jquery.com/Events/ready#fn">to be executed when the document is ready to be manipulated</a>, but I&#39;ve left that part out here for brevity.</p>
<p><strong>Round 1:</strong> Because <a href="http://docs.jquery.com/Selectors">jQuery supports CSS1-3</a>, you can mimic the CSS rule that wouldn&#39;t work in IE6:</p>
<p>{% codeblock lang:javascript %}
$(&#39;a[href$=&quot;.doc&quot;]&#39;).
  css({
    // use paddingLeft instead of padding-left;
    // jQuery (and Javascript) use camelCase
    // for CSS attributes instead of hyphenation
    paddingLeft: &#39;18px&#39;,
    background: &#39;transparent url(&quot;word-doc.gif&quot;) no-repeat center left&#39;
  });
{% endcodeblock %}</p>
<p><strong>Round 2:</strong> You <em>could</em> do one of these snippets for each file type, but with jQuery, you can take advantage of the <a href="http://docs.jquery.com/Utilities/jQuery.each#objectcallback">$.each() utility method</a> to do a loop, eliminating redundant code:</p>
<p>{% codeblock lang:javascript %}
// first, create an object
// that contains information
// about how file extensions
// correspond to images</p>
<p>var fileTypes = {
  // extension: &#39;image file&#39;
  doc: &#39;doc.gif&#39;,
  xls: &#39;xls.gif&#39;,
  pdf: &#39;pdf.gif&#39;
};</p>
<p>// then, loop over the object
// using jQuery&#39;s $.each()
$.each(fileTypes, function(extension,image) {
  $(&#39;a[href$=&quot;&#39; + extension + &#39;&quot;]&#39;).
    css({
      paddingLeft: &#39;18px&#39;,
      background: &#39;transparent url(&quot;&#39; + image + &#39;&quot;) no-repeat center left&#39;
    });
});
{% endcodeblock %}</p>
<p><strong>Round 3:</strong> One problem with this: while jQuery does support these attribute selectors, in my experience they require some pretty heavy lifting to do the pattern matching, which can slow things down significantly. Since the method above would require multiple selections (one for each extension/image combination), it makes sense to try a different way that will require fewer selections and less pattern matching:</p>
<p>{% codeblock lang:javascript %}
var fileTypes = {
  doc: &#39;doc.gif&#39;,
  xls: &#39;xls.gif&#39;,
  pdf: &#39;pdf.gif&#39;
};</p>
<p>// this is like $.each() above, except
// it iterates over the matched elements
$(&#39;a&#39;).each(function() {</p>
<p>  // get a jQuery object for each anchor found
  var $a = $(this);</p>
<p>  // get the href attribute
  var href = $a.attr(&#39;href&#39;);</p>
<p>  // get the extension from the href
  var hrefArray = href.split(&#39;.&#39;);
  var extension = hrefArray[hrefArray.length - 1];</p>
<p>  var image = fileTypes[extension];</p>
<p>  if (image) {
    $a.css({
      paddingLeft: &#39;18px&#39;,
      background: &#39;transparent url(&quot;&#39; + image + &#39;&quot;) no-repeat center left&#39;
    });
  }</p>
<p>});
{% endcodeblock %}</p>
<p>And in fact, in limited testing using Firebug, this second version is faster than the first if you have more than two filetypes (and thus more than two selections).</p>
<p><h3>Taking it further</h3>
You can also add a different icon to external links, and only add filetype icons to internal links:</p>
<p>{% codeblock lang:javascript %}
var fileTypes = {
  doc: &#39;doc.gif&#39;,
  xls: &#39;xls.gif&#39;,
  pdf: &#39;pdf.gif&#39;
};</p>
<p>$(&#39;a&#39;).each(function() {</p>
<p>  var $a = $(this);
  var href = $a.attr(&#39;href&#39;);</p>
<p>  if (
    (href.match(/^http/)) &amp;&amp;
    (! href.match(document.domain))
  ) {</p>
<pre><code>// use a special image for external links
var image = &#39;external.gif&#39;;
</code></pre><p>  } else {
    // get the extension from the href
    var hrefArray = href.split(&#39;.&#39;);
    var extension = hrefArray[hrefArray.length - 1];</p>
<pre><code>var image = fileTypes[extension];
</code></pre><p>  }</p>
<p>  if (image) {
    $a.css({
      paddingLeft: &#39;18px&#39;,
      background: &#39;transparent url(&quot;&#39; + image + &#39;&quot;) no-repeat center left&#39;
    });
  }</p>
<p>});
{% endcodeblock %}</p>
<p>Or, only add icons to certain links, like a list of files in an unordered list, by changing your selector from <code>$(&#39;a&#39;)</code> to <code>$(&#39;ul#fileList a&#39;)</code>.</p>
<p><h3>Resources</h3></p>
<ul>
<li>There are nuances to the CSS you&#39;ll want to apply to your links; the above is just an example of something that may or may not work for you. <a href="http://www.askthecssguy.com/2006/12/showing_hyperlink_cues_with_cs_1.html">Read more here</a> about how to style the links so your background images appear as you want them to.</li>
<li>If you&#39;re using transparent PNGs for your background images, <a href="http://www.twinhelix.com/css/iepngfix/">iepngfix</a> will save the day.</li>
<li>
<a href="http://www.famfamfam.com/lab/icons/silk/">famfamfam</a> has some great icons available for free under the Creative Commons Attribution 2.5 License.</li>

</ul><p class="follow">Posted 6-Jan 2008.</p></div><div class="comments"><h2>Comments</h2><div id="disqus_thread"></div><script>var disqus_shortname = 'rmurphey';
var disqus_url = 'http://rmurphey.com/2008/01/06/unobtrusive-cross-browser-method-to-add-icons-to-links/';
var disqus_title = 'Unobtrusive, cross-browser method to add icons to links';</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></a></div></article></main><footer class="site-footer clearfix flex subpanel"><div class="flex-item archives"><h2>Archives</h2><ul><li><a href="/archives">All years</a></li><li><a href="/2015">2015</a></li><li><a href="/2014">2014</a></li><li><a href="/2013">2013</a></li><li><a href="/2012">2012</a></li><li><a href="/2011">2011</a></li><li><a href="/2010">2010</a></li><li><a href="/2009">2009</a></li><li><a href="/2008">2008</a></li><li><a href="/2007">2007</a></li></ul></div><div class="flex-item links"><h2>Links</h2><ul><li><a href="/about.html">About</a></li><li><a target="_blank" href="/feed.xml">RSS feed</a></li><li><a target="_blank" href="https://github.com/rmurphey">On GitHub</a></li><li><a target="_blank" href="https://twitter.com/rmurphey">On Twitter</a></li></ul></div><div class="flex-item license"><h2>License</h2><p class="vcard">Copyright © 2015 <a class="url fn" href="http://rmurphey.com">Rebecca Murphey</a>.</p><p>All code and content for this blog is available <a href="https://github.com/rmurphey">on GitHub</a>.</p>
</div><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><!--|  
|  
|  Carved up by hand using Harp and a shit load of hacking ❤
|  
|  Also, this:
|  
|  
|  
|                        \_            /;              _.._
|                        `\~--.._     //'            ,(+=\\\\
|                         `//////\  \\/;'             /~ (\\\\
|                           ~/////\~\`)'             /;   ))))
|                               `~'  |              ((`~/((((\
|                               ;'_\'\             /'))   )))))
|                              /~/ '" "'     _.  /'/\_ /^\`((( \
|                             `\/'       _.-~/--/ (  =(   | ,  |
|                                     _/~\_)_}___/^\/~`\.__\|==|
|                                    /uUUU)        )        |  |
|                                   (   / |      _-=o|\__ /'/~ \
|                                   ' /'  |     /(((((\`\(  |~\/
|                                   /'    |   /' )))))"`\`\|/_/---.._,$$,
|                             .,ssS$$$Sss|._/_..-((('    )\)>>>      ~\$
|                          ,sS$$$$$$$$$$$|$$$$$$$  |/    //'~`o        `\
|                        ,$$$$$$$$$$$$$$|$$S$$$$'  (    /                \
|                      ,$$$$$$$$$$$$S$$|$$$$$$$'   |   /              ,s$$$
|                    s$$$$$S$$$$$$$$$S|$$$$$$$$    |  /              $$$$$$
|                  _~,$S""''     ``"S|$$S$$$$$"    (_,`\,          ,$$$$$$$;
|                /~ ,"'             / 'S$$$$$"      \_./|        s$$$$$$$$$$
|             (~'      _,  \==~~)  /     """         \  |       $$$$$$$$$$$$
|              (0\   /0/     \-' /'                   \ |  |  ,$$$$$$$$$$$$$,
|              `/'  '         _-~                     |= \_-\ $$$$$$$$$$$$$$s
|              (~~~)      _.-~_-   \             \  ,s|= |   `"$$$$$$$$$$$$$$$
|             ( `-'  )/>-~  _/-__   |            |,$$$|_/,      `"$$$$$$$$$$$$
|             /V^^^^V~/' _/~/~~  ~~-|            |$$$$$$$$         "$$$$$$$$$$,
|            /  (^^^^),/' /'        )           /S$$$$$$$;         ,$$$$$$$$$$$,
|          ,$$_  `~~~'.,/'         /     _-ss, /(/-(/-(/'        ,s$$$$$$$$$$$$$
|        ,s$$$$$ssSS$$$'         ,$'.s$$$$$$$$'                  (/-(/-(/-(/-(/'
|       S$$$$$$$$$$$$$$        ,$$$$$$$$$$$$$'
|      (/-(/-(/-(/-(/'      _s$$$$$$$$$$$$$$
|                          (/-(/-(/-(/-(/-'
|  
|  
|  
|      – Remy
|  
|  --></footer><!-- Env: production - static files--></body></html>